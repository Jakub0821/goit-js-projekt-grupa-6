{"mappings":"ACAA,MAAM,EAAY,IAAI,OAAO,OAAO,GAuBpC,SAAS,EAAa,CAAK,EAEzB,IAAM,EAAS,AADQ,EAAM,aAAa,CACZ,YAAY,CAAC,WAC3C,QAAQ,GAAG,CAAC,CAAC,wBAAY,EAAE,EAAO,CAAC,CAAC,EAEpC,AAGF,WACE,IAAM,EAAQ,SAAS,cAAc,CAAC,WACtC,GAAI,EAAO,CACT,EAAM,KAAK,CAAC,OAAO,CAAG,QAEtB,IAAM,EAAO,SAAS,aAAa,CAAC,6BAChB,SAAS,cAAc,CAAC,SAE5C,EAAK,OAAO,CAAG,WACb,EAAM,KAAK,CAAC,OAAO,CAAG,MACxB,EAEA,OAAO,OAAO,CAAG,SAAU,CAAK,EAC1B,EAAM,MAAM,EAAI,GAClB,CAAA,EAAM,KAAK,CAAC,OAAO,CAAG,MADxB,CAGF,EAEA,SAAS,gBAAgB,CAAC,UAAW,SAAU,CAAK,EAClD,EAAM,cAAc,GACF,WAAd,EAAM,GAAG,EACX,CAAA,EAAM,KAAK,CAAC,OAAO,CAAG,MADxB,CAGF,EACF,CACF,GA3BA,CA0CA,SAAS,IAkBP,aAAa,IAAI,CAjBJ,CACX,MAAO,gBACP,OAAQ,wBACR,YAAa,iBAEb,WAAY,iBACZ,mBAAoB,kBACpB,UAAW,CACT,CACE,IAAK,iBACP,EACA,CACE,IAAK,qBACP,EACD,AACH,GAIA,aAAa,OAAO,CAAC,0BAA2B,KAAK,SAAS,CAAC,eAE/D,cACF,EApCA,AAvDA,SAAS,IACP,IAAM,EAAW,SAAS,gBAAgB,CAAC,oBAC3C,GAAI,EAAS,MAAM,CAAG,EAAG,CACvB,EAAS,OAAO,CAAC,SAAU,CAAO,EAChC,EAAQ,mBAAmB,CAAC,QAAS,GACrC,EAAQ,gBAAgB,CAAC,QAAS,EACpC,GACA,SAAS,GACT,MACF,CAEI,IAAI,OAAO,OAAO,GAAK,EAAY,IACrC,QAAQ,KAAK,CACX,kEAGF,WAAW,EAlBA,IAoBf,IAwCA,SAAS,gBAAgB,CAAC,mBAAoB,WAC5C,SACG,aAAa,CAAC,kBACd,gBAAgB,CAAC,QAAS,EAC/B,GAEA,SACG,aAAa,CAAC,kBACd,gBAAgB,CAAC,QAAS","sources":["<anon>","src/partials/_popup.js"],"sourcesContent":["const startTime = new Date().getTime();\nlet interval = 1000;\nfunction sprawdzElement() {\n    const elements = document.querySelectorAll(\".books-item-link\");\n    if (elements.length > 0) {\n        elements.forEach(function(element) {\n            element.removeEventListener(\"click\", clickHandler);\n            element.addEventListener(\"click\", clickHandler);\n        });\n        callback(elements);\n        return;\n    }\n    if (new Date().getTime() - startTime > 5000) console.error(\"Przekroczono limit czasu. \\u017Baden element nie zosta\\u0142 znaleziony.\");\n    else setTimeout(sprawdzElement, interval);\n}\nfunction clickHandler(event) {\n    const clickedElement = event.currentTarget;\n    const dataId = clickedElement.getAttribute(\"data-id\");\n    console.log(`Id ksi\\u{105}\\u{17C}ki='${dataId}'`);\n    wyswietlModal();\n}\nfunction wyswietlModal() {\n    const modal = document.getElementById(\"myModal\");\n    if (modal) {\n        modal.style.display = \"block\";\n        const span = document.querySelector(\".popup__close-button-span\");\n        const closeButton = document.getElementById(\"myBtn\");\n        span.onclick = function() {\n            modal.style.display = \"none\";\n        };\n        window.onclick = function(event) {\n            if (event.target == modal) modal.style.display = \"none\";\n        };\n        document.addEventListener(\"keydown\", function(event) {\n            event.preventDefault();\n            if (event.key === \"Escape\") modal.style.display = \"none\";\n        });\n    }\n}\nsprawdzElement();\n// event listener dla przycisku w popupie\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    document.querySelector(\".popup__button\").addEventListener(\"click\", addToShoppingList);\n});\ndocument.querySelector(\".popup__button\").addEventListener(\"click\", addToShoppingList);\nfunction addToShoppingList() {\n    const book = {\n        title: \"TYTU\\u0141 KSI\\u0104\\u017BKI\",\n        author: \"Imie nazwisko pisarza\",\n        description: \"Lorem ipsum...\",\n        book_image: \"URL_do_ok\\u0142adki\",\n        amazon_product_url: \"link_do_amazona\",\n        buy_links: [\n            {\n                url: \"link_do_amazona\"\n            },\n            {\n                url: \"link_do_apple_books\"\n            }\n        ]\n    };\n    shoppingList.push(book);\n    localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n    renderMarkUp();\n}\n\n//# sourceMappingURL=index.64731b74.js.map\n","const startTime = new Date().getTime();\nlet interval = 1000;\n\nfunction sprawdzElement() {\n  const elements = document.querySelectorAll('.books-item-link');\n  if (elements.length > 0) {\n    elements.forEach(function (element) {\n      element.removeEventListener('click', clickHandler);\n      element.addEventListener('click', clickHandler);\n    });\n    callback(elements);\n    return;\n  }\n\n  if (new Date().getTime() - startTime > 5000) {\n    console.error(\n      'Przekroczono limit czasu. Żaden element nie został znaleziony.'\n    );\n  } else {\n    setTimeout(sprawdzElement, interval);\n  }\n}\n\nfunction clickHandler(event) {\n  const clickedElement = event.currentTarget;\n  const dataId = clickedElement.getAttribute('data-id');\n  console.log(`Id książki='${dataId}'`);\n\n  wyswietlModal();\n}\n\nfunction wyswietlModal() {\n  const modal = document.getElementById('myModal');\n  if (modal) {\n    modal.style.display = 'block';\n\n    const span = document.querySelector('.popup__close-button-span');\n    const closeButton = document.getElementById('myBtn');\n\n    span.onclick = function () {\n      modal.style.display = 'none';\n    };\n\n    window.onclick = function (event) {\n      if (event.target == modal) {\n        modal.style.display = 'none';\n      }\n    };\n\n    document.addEventListener('keydown', function (event) {\n      event.preventDefault();\n      if (event.key === 'Escape') {\n        modal.style.display = 'none';\n      }\n    });\n  }\n}\n\nsprawdzElement();\n\n// event listener dla przycisku w popupie\ndocument.addEventListener('DOMContentLoaded', function () {\n  document\n    .querySelector('.popup__button')\n    .addEventListener('click', addToShoppingList);\n});\n\ndocument\n  .querySelector('.popup__button')\n  .addEventListener('click', addToShoppingList);\n\nfunction addToShoppingList() {\n  const book = {\n    title: 'TYTUŁ KSIĄŻKI',\n    author: 'Imie nazwisko pisarza',\n    description: 'Lorem ipsum...',\n\n    book_image: 'URL_do_okładki',\n    amazon_product_url: 'link_do_amazona',\n    buy_links: [\n      {\n        url: 'link_do_amazona',\n      },\n      {\n        url: 'link_do_apple_books',\n      },\n    ],\n  };\n\n  shoppingList.push(book);\n\n  localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n\n  renderMarkUp();\n}\n"],"names":["startTime","Date","getTime","clickHandler","event","dataId","clickedElement","currentTarget","getAttribute","console","log","wyswietlModal","modal","document","getElementById","style","display","span","querySelector","onclick","window","target","addEventListener","preventDefault","key","addToShoppingList","shoppingList","push","title","author","description","book_image","amazon_product_url","buy_links","url","localStorage","setItem","SHOPPING_LIST_STORAGE_KEY","JSON","stringify","renderMarkUp","sprawdzElement","elements","querySelectorAll","length","forEach","element","removeEventListener","callback","error","setTimeout"],"version":3,"file":"index.64731b74.js.map"}